#!/bin/bash
# ğŸ¯ QUICK REFERENCE CARD - COPY & PASTE THESE COMMANDS

echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                                                                    â•‘"
echo "â•‘  ğŸš€ QUANTUM SIMULATOR - QUICK REFERENCE                           â•‘"
echo "â•‘                                                                    â•‘"
echo "â•‘  HOW TO RUN BOTH BACKEND & FRONTEND                               â•‘"
echo "â•‘                                                                    â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

echo "ğŸ“‹ OPTION 1: START EVERYTHING WITH ONE COMMAND"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   bash /workspaces/animation_quantum_mech_basics/start_all.sh"
echo ""
echo "   Then:"
echo "   1. Open PORTS panel (bottom of VS Code)"
echo "   2. Click globe ğŸŒ next to port 8000"
echo "   3. Your dashboard opens!"
echo ""
echo ""

echo "ğŸ“‹ OPTION 2: THREE TERMINALS (More Control)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   TERMINAL 1 - Start Backend:"
echo "   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "   â”‚ cd /workspaces/animation_quantum_mech_basics             â”‚"
echo "   â”‚ source .venv/bin/activate                               â”‚"
echo "   â”‚ PYTHONPATH=./src python app/backend/app/api/enhanced_api.py â”‚"
echo "   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
echo "   TERMINAL 2 - Start Frontend:"
echo "   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "   â”‚ cd /workspaces/animation_quantum_mech_basics/app/frontend/public â”‚"
echo "   â”‚ python -m http.server 8000                              â”‚"
echo "   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
echo "   TERMINAL 3 - Open Browser:"
echo "   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "   â”‚ http://localhost:8000/dashboard.html                    â”‚"
echo "   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
echo ""

echo "ğŸ§ª TEST COMMANDS"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   Test backend health:"
echo "   $ curl http://localhost:5000/api/health"
echo ""
echo "   Run a simulation:"
echo "   $ curl -X POST http://localhost:5000/api/full-simulation \\"
echo "       -H 'Content-Type: application/json' \\"
echo "       -d '{\"type\":\"infinite-well\",\"parameters\":{\"width\":5,\"num_states\":3}}'"
echo ""
echo "   Test frontend loads:"
echo "   $ curl http://localhost:8000/dashboard.html"
echo ""
echo ""

echo "ğŸ“ ACCESS POINTS"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   Backend API:     http://localhost:5000"
echo "   Frontend:        http://localhost:8000/dashboard.html"
echo "   Health Check:    http://localhost:5000/api/health"
echo ""
echo ""

echo "ğŸ› ï¸  HELPFUL COMMANDS"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   View backend logs:"
echo "   $ tail -f /workspaces/animation_quantum_mech_basics/backend.log"
echo ""
echo "   View frontend logs:"
echo "   $ tail -f /workspaces/animation_quantum_mech_basics/app/frontend/public/../../../frontend.log"
echo ""
echo "   Kill all services:"
echo "   $ pkill -f 'python.*enhanced_api\\|python.*http.server'"
echo ""
echo "   Check what's running:"
echo "   $ ps aux | grep python | grep -E '5000|8000'"
echo ""
echo "   Check port usage:"
echo "   $ lsof -i :5000  (for backend)"
echo "   $ lsof -i :8000  (for frontend)"
echo ""
echo ""

echo "ğŸ“Š WHAT HAPPENS WHEN YOU RUN SIMULATION"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   1. You open: http://localhost:8000/dashboard.html"
echo "   2. You select: 'Infinite Square Well' from dropdown"
echo "   3. You click: 'Run Simulation' button"
echo "   4. Frontend sends: POST /api/full-simulation (to backend)"
echo "   5. Backend computes: SchrÃ¶dinger equation solution"
echo "   6. Backend returns: JSON with energy levels, wavefunctions"
echo "   7. Frontend receives: Data in ~100-200ms"
echo "   8. Frontend draws: Plots on canvas"
echo "   9. You see: Energy diagram + Probability plot!"
echo ""
echo ""

echo "âœ… VERIFICATION CHECKLIST"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   â˜ Backend running?  curl http://localhost:5000/api/health"
echo "   â˜ Frontend loading?  Open http://localhost:8000/dashboard.html"
echo "   â˜ Can see dashboard? (Title, controls, canvases)"
echo "   â˜ Ports forwarded?   (Ports panel shows 5000 & 8000)"
echo "   â˜ Can run sim?       (Select type, click button, plots appear)"
echo "   â˜ No console errors? (F12 to check browser console)"
echo ""
echo ""

echo "ğŸ”Œ PORT FORWARDING IN CODESPACE"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   Automatic:"
echo "   - Start service â†’ See notification"
echo "   - Click 'Open in Browser'"
echo "   - Done! âœ…"
echo ""
echo "   Manual:"
echo "   - Ctrl+Shift+P â†’ 'Forward a Port'"
echo "   - Enter 5000 (backend)"
echo "   - Enter 8000 (frontend)"
echo "   - Done! âœ…"
echo ""
echo "   View Ports:"
echo "   - Click 'Ports' tab at bottom of VS Code"
echo "   - See all forwarded ports"
echo "   - Click globe ğŸŒ to open in browser"
echo ""
echo ""

echo "â“ COMMON ISSUES & FIXES"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   Problem: 'Connection refused' on :5000"
echo "   Solution: Check backend is running"
echo "             curl http://localhost:5000/api/health"
echo ""
echo "   Problem: 'Connection refused' on :8000"
echo "   Solution: Check frontend is running"
echo "             curl http://localhost:8000/dashboard.html"
echo ""
echo "   Problem: Frontend loads but 'Can't connect to API'"
echo "   Solution: Open console (F12), check for errors"
echo "             Verify backend: curl http://localhost:5000/api/health"
echo ""
echo "   Problem: Port already in use"
echo "   Solution: Kill process: lsof -i :5000 | grep LISTEN | awk '{print \$2}' | xargs kill -9"
echo ""
echo "   Problem: 'ModuleNotFoundError: No module named..."
echo "   Solution: Activate venv: source .venv/bin/activate"
echo "             Or: pip install <module-name>"
echo ""
echo ""

echo "ğŸ‰ YOU'RE READY!"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   1. Run:  bash /workspaces/animation_quantum_mech_basics/start_all.sh"
echo "   2. Wait: 'SERVICES STARTED!' message"
echo "   3. Open: Ports panel (bottom of VS Code)"
echo "   4. Click: Globe ğŸŒ next to port 8000"
echo "   5. Enjoy: Your quantum simulator!"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
